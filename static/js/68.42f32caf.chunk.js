"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[68,108],{8830:function(e,r,t){t.d(r,{Bt:function(){return f},SU:function(){return u},Y5:function(){return l},y:function(){return p},z1:function(){return v}});var n=t(5861),a=t(7757),c=t.n(a),o=t(1912),s="https://api.themoviedb.org/3",i="53e87cb9c08783511c6675cb8902a46b",u=function(){var e=(0,n.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.Z.get("".concat(s,"/trending/all/day?api_key=").concat(i)),console.log("popularMoviesList in fetchPopularMovies",r),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.Z.get("".concat(s,"/movie/").concat(r,"?api_key=").concat(i)),console.log("movieDetails in fetchMovieDetails:",t),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.Z.get("".concat(s,"/movie/").concat(r,"/credits?api_key=").concat(i)),console.log("castData in fetchCast :",t),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.Z.get("".concat(s,"/movie/").concat(r,"/reviews?api_key=").concat(i)),console.log("movieReviews in fetchReviews",t),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.Z.get("".concat(s,"/search/movie?api_key=").concat(i,"&query=").concat(r)),console.log(t),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},7108:function(e,r,t){t.r(r),t.d(r,{default:function(){return o}});t(2791);var n="Loader_spinner__iDFIv",a=t(643),c=t(184);a.p2;var o=function(){return(0,c.jsxs)("div",{className:n,children:[" ",(0,c.jsx)(a.p2,{})," ",(0,c.jsx)(a.p2,{})," ",(0,c.jsx)(a.p2,{})]})}},9068:function(e,r,t){t.r(r),t.d(r,{default:function(){return S}});var n=t(5861),a=t(9439),c=t(7757),o=t.n(c),s=t(2791),i=t(1087),u=t(8830),l="SearchBar_SearchBar__MQiwu",p="SearchBar_SearchForm__J+i1a",f="SearchBar_SearchFormButton__J-w2N",v="SearchBar_SearchFormInput__4T9IM",h=t(184),m=function(e){var r=e.onSubmit,t=(0,s.useState)(""),n=(0,a.Z)(t,2),c=n[0],o=n[1];return(0,h.jsx)("header",{className:l,children:(0,h.jsxs)("form",{className:p,onSubmit:function(e){if(e.preventDefault(),""===c.trim())return alert("Enter query to search");r(c),o("")},children:[(0,h.jsx)("input",{className:v,type:"text",name:"query",value:c,onChange:function(e){var r=e.currentTarget.value;o(r)},autoComplete:"off",autoFocus:!0,placeholder:"Search movie"}),(0,h.jsx)("button",{type:"submit",className:f,children:"Search"})]})})},_=t(7108),d="SearchMoviesList_movieList__XURjx",y="SearchMoviesList_movieListItem__7N6T4",x="SearchMoviesList_movieTitle__tn7--",g=function(e){var r=e.moviesList;return(0,h.jsx)("ul",{className:d,children:r.map((function(e){return(0,h.jsx)("li",{className:y,children:(0,h.jsxs)(i.OL,{to:"".concat(e.id),className:x,children:[" ",e.title||e.name," "]})},e.id)}))})},b=t(690),S=function(){var e=(0,s.useState)(!1),r=(0,a.Z)(e,2),t=r[0],c=r[1],l=(0,s.useState)(null),p=(0,a.Z)(l,2),f=p[0],v=p[1],d=(0,s.useState)([]),y=(0,a.Z)(d,2),x=y[0],S=y[1],k=(0,i.lr)(),w=(0,a.Z)(k,2),j=w[0],Z=w[1];(0,s.useEffect)((function(){var e=j.get("query");if(e){var r=function(){var r=(0,n.Z)(o().mark((function r(){var t;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c(!0),r.next=4,(0,u.z1)(e);case 4:if(t=r.sent,console.log("response.data in Movies :",t.data),0!==t.data.total_results){r.next=8;break}return r.abrupt("return",(0,h.jsxs)("p",{children:["There are no movies by query $",e]}));case 8:if(!(t.data.total_results>0)){r.next=12;break}S(t.data.results),r.next=13;break;case 12:return r.abrupt("return",Promise.reject(new Error("There are no movies by query ".concat(e))));case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),v(r.t0);case 18:return r.prev=18,c(!1),r.finish(18);case 21:case 22:case"end":return r.stop()}}),r,null,[[0,15,18,21]])})));return function(){return r.apply(this,arguments)}}();r()}else console.log("There is no query in searchParams")}),[j]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m,{onSubmit:function(e){S([]),Z({query:e}),console.log({query:e})}}),f&&(0,h.jsx)("h1",{className:b.Z.errorMessage,children:" Something wrong. Try to reload this page."}),t&&(0,h.jsx)(_.default,{}),(0,h.jsx)(g,{moviesList:x})]})}},690:function(e,r){r.Z={HomeContainer:"PagesStyles_HomeContainer__+IvPR",movieListTitle:"PagesStyles_movieListTitle__iaPQ0",backLink:"PagesStyles_backLink__NKpyO",errorMessage:"PagesStyles_errorMessage__6EqW5"}}}]);
//# sourceMappingURL=68.42f32caf.chunk.js.map