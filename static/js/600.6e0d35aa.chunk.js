"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[600],{8830:function(e,t,r){r.d(t,{Bt:function(){return f},SU:function(){return u},Y5:function(){return l},y:function(){return p},z1:function(){return v}});var n=r(5861),a=r(7757),o=r.n(a),c=r(1912),s="https://api.themoviedb.org/3",i="53e87cb9c08783511c6675cb8902a46b",u=function(){var e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.Z.get("".concat(s,"/trending/all/day?api_key=").concat(i)),console.log("popularMoviesList in fetchPopularMovies",t),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.Z.get("".concat(s,"/movie/").concat(t,"?api_key=").concat(i)),console.log("movieDetails in fetchMovieDetails:",r),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.Z.get("".concat(s,"/movie/").concat(t,"/credits?api_key=").concat(i)),console.log("castData in fetchCast :",r),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.Z.get("".concat(s,"/movie/").concat(t,"/reviews?api_key=").concat(i)),console.log("movieReviews in fetchReviews",r),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.Z.get("".concat(s,"/search/movie?api_key=").concat(i,"&query=").concat(t)),console.log(r),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},3600:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var n=r(5861),a=r(9439),o=r(7757),c=r.n(o),s=r(2791),i=r(8830),u=r(1087),l="PopularMoviesList_movieList__H4mdN",p="PopularMoviesList_movieListItem__OzARE",f="PopularMoviesList_movieTitle__bTtYP",v=r(184),h=function(e){var t=e.moviesList;return(0,v.jsx)("ul",{className:l,children:t.map((function(e){return(0,v.jsx)("li",{className:p,children:(0,v.jsxs)(u.OL,{to:"movies/".concat(e.id),className:f,children:[" ",e.title||e.name," "]})},e.id)}))})},m=r(690),d=function(){var e=(0,s.useState)([]),t=(0,a.Z)(e,2),r=t[0],o=t[1],u=(0,s.useState)(null),l=(0,a.Z)(u,2),p=l[0],f=l[1];return(0,s.useEffect)((function(){var e=function(){var e=(0,n.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.SU)();case 3:if((t=e.sent).data.results.length>0&&o(t.data.results),t.data.results.length){e.next=8;break}return Promise.reject(new Error("Something wrong. Try to reload this page.")),e.abrupt("return",(0,v.jsx)("p",{className:m.Z.errorMessage,children:"Something wrong. Try to reload this page"}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),f(e.t0);case 13:return e.prev=13,e.finish(13);case 15:case 16:case"end":return e.stop()}}),e,null,[[0,10,13,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),console.log("popularList after useEffect: ",r," , ",Date.now()),(0,v.jsxs)("div",{className:m.Z.HomeContainer,children:[(0,v.jsx)("p",{className:m.Z.movieListTitle,children:"Trending today"}),(0,v.jsxs)("div",{children:[p&&(0,v.jsx)("h1",{className:m.Z.errorMessage,children:" Something wrong. Try to reload this page."}),r.length>0&&(0,v.jsx)(h,{moviesList:r})]})]})}},690:function(e,t){t.Z={HomeContainer:"PagesStyles_HomeContainer__+IvPR",movieListTitle:"PagesStyles_movieListTitle__iaPQ0",backLink:"PagesStyles_backLink__NKpyO",errorMessage:"PagesStyles_errorMessage__6EqW5"}}}]);
//# sourceMappingURL=600.6e0d35aa.chunk.js.map